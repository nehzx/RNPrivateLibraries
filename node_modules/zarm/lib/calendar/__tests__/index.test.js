"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _react = _interopRequireDefault(require("react"));

var _enzyme = require("enzyme");

var _index = _interopRequireDefault(require("../index"));

var _date = require("../../../tests/testData/date");

var prefixCls = 'za-calendar';
describe('Calendar', function () {
  it('should trigger onChange when single click', /*#__PURE__*/(0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {
    var onChangeFn, wrapper, day2;
    return _regenerator.default.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            onChangeFn = jest.fn();
            wrapper = (0, _enzyme.mount)( /*#__PURE__*/_react.default.createElement(_index.default, {
              min: _date.date7,
              multiple: false,
              onChange: onChangeFn
            }));
            day2 = wrapper.find(".".concat(prefixCls, "__day")).at(15);
            expect(day2.childAt(0).text()).toBe('16');
            day2.simulate('click');
            expect(onChangeFn).toBeCalled();

          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee);
  })));
  it('should trigger onChange when double click', function () {
    var onChangeFn = jest.fn();
    var wrapper = (0, _enzyme.mount)( /*#__PURE__*/_react.default.createElement(_index.default, {
      multiple: false,
      onChange: onChangeFn
    }));
    var day3 = wrapper.find(".".concat(prefixCls, "__day")).at(30);
    var day4 = wrapper.find(".".concat(prefixCls, "__day")).at(20);
    day3.simulate('click');
    day4.simulate('click');
    expect(onChangeFn).toBeCalled();
  });
});